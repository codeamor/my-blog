---
title: Linux | 리눅스 기반 CLI 개념 및 용법
date: 2021-02-06 16:02:76
category: posting-study
thumbnail: { thumbnailSrc }
draft: false
---

# CLI

Command Line Interface, GUI 없이 문자열로 이루어진 인터페이스입니다.

**터미널**은 CLI가 물리적으로 구현된 기계를 의미하고, **셸**은 CLI로 구현된 터미널에서 실행 가능한 대화형 프로그램을 의미합니다.

# vim

vim(vi improved)은 CLI에서 사용할 수 있는 text editor로, vi와 호환되며 여러 기능이 추가되어 있습니다.

## 용법

- / + 검색하고 싶은 문자열: 검색 모드로 전환하여 검색

## 텍스트 복붙

1. 복사를 원하는 곳에 커서를 둠
2. `v` 를 눌러 비주얼 모드로 전환
3. 방향키로 범위를 지정
4. `y` 키로 yank(뽑아내다, 여기선 복사)
5. 붙이고 싶은 장소에 `shift+p`

## 되돌리기

`ctrl+z`는 vim에서 일시정지를 의미합니다.

`fg`를 통해 일시정지를 풀 수 있습니다.

vim에서의 되돌리기는 `u` (undo)를 사용합니다.

## fg와 bg

프로세스의 진행에는 `back ground`와 `fore ground`가 있습니다.

`fg`, `bg` 명령어로 모드 전환이 가능하고, 위에서 `ctrl+z`로 되돌리기를 하려다가 일시정지가 된 상황은 `back ground`로 suspend된 상태입니다.

✔ suspended 상태의 프로세스는 메모리를 강제로 뺏긴 상태로 특정한 이유로 프로세스의 수행이 정지된 상태를 의미하며, 외부에서 다시 재개시키지 않는 이상 다시 활성화 될 수 없는 상태를 말합니다.

# 파이프라인(`|`) & 리다이렉션(`>`)

## 파이프라인

- `|`: 표준 출력을 다음 명령어의 표준 입력으로 들어가게 합니다.

## 리다이렉션

`>` : echo hello > hello.txt 표준 출력 대신 파일에 표준 입력으로 넣어줌. 덮어쓰기

`>>` : echo hello2 >> hello.txt 표준 출력대신 파일에 표준 입력으로 넣어줌. 이어쓰기

`2>` : 표준 에러를 리다이렉션

`>&2` : 모든 출력을 강제로 표준에러로 사용

`2>&1` : 표준 입력과 표준 에러를 리다이렉션

<br>

✔ 표준 출력과 표준 에러

- 표준 출력( STDOUT )

프로그램이 출력 데이터를 기록하는 스트림

표준 출력의 파일 **디스크립터**(특정한 파일에 접근하기 위한 추상적인 키)는 1입니다.

- 표준 에러( STDERR )

프로그램이 오류 메시지나 진단을 출력하기 위해 일반적으로 쓰는 출력 스트림

표준 출력과 독립적인 스트림이며, 별도로 리다이렉트 가능

# 명령어

- ls : 디렉토리 정보 파악

  - al : 모든 리스트 출력
  - G : 타입에 따라 다른 색 출력
  - d \*/ : 디렉토리만 출력
  - t : 가장 최근에 수정된 파일대로 정렬
  - S : 사이즈가 큰 파일부터 출력
  - r : 순서를 거꾸로 출력
  - R : 재귀적으로 현재 디렉토리 아래 모두 출력

- mv <현재 경로> <이동할 경로> : 파일 이동
- cp <현재 경로> <이동할 경로> : 파일 복사
- echo : 매개변수를 입력 받아 표준 출력으로 돌려줌.

# 편리함을 주는 명령어

## 파일 내용을 다음 명령어에 출력

- tail + F: 파일에 추가된 부분만 출력
- cat: 매개변수로 입력받은 파일 이름을 표준 출력으로 돌려줌

## 중간에서 이전 명령어 출력을 가공

- sed: 원본을 손상하지 않고 출력 내용 변경, 출력 내용을 조정 가능
- grep: 매개변수에 있는 패턴이 표준 입력에 있으면 표준 출력으로 둘려줌, 파이프라인과 함께 해당 내용만 검색할 때 유용함
- sort: 각 행의 첫 번째 단어들의 첫 번째 문자들을 알파벳 오름차순으로 정렬
- uniq: 중복된 내용을 제거
- cut: 내용을 잘라냄

## 이전 명령어 출력을 최종 가공

- less: 스크롤할 수 있게 출력
- head <숫자>: 앞 부분만 출력
- tail <숫자>: 뒷 부분만 출력

## 기타 명령어

- history <숫자>: 입력했던 명령어 목록을 <숫자>만큼 볼 수 있다. 명령어의 이름을 입력하거나 history로 출력된 첫 번째 열의 번호를 `!<번호>`로 입력해도 해당 명령어가 실행됨. 방향키 위아래 입력으로 입력했던 명령어를 불러올 수 있고, `ctrl <명령어>` 입력을 하면 이전에 사용했던 명령어 중 해당 명령어를 포함하는 명령어를 찾아줌.

- \ : 여러 줄에 걸쳐 명령어 실행

- tap키: 자동완성, 누를 때마다 다음 자동완성 후보로 넘어감

- tee: 파이프라인과 같은 기능, 출력과 동시에 파일에 기록

- top: 시스템 부하 상태를 확인, 프로세스 상태를 확인 가능

- chmod: 권한을 변경

- kill: 프로세스를 강제 종료 시킬 수 있음

# tips

## 옵션에 `-`, `--`를 쓰는 경우

문자가 하나인 경우는 `-`, 두 글자 이상이면 `--`를 쓰는 경우가 많음. (-D, --save)

그리고 -a -l -h 는 -alh로 사용이 가능.

## 나가기 버튼

- ^c: SIGINT(siginterrupt) 신호를 프로세스에게 전달. 일반적으로 실행 중인 작업 종료

- ^d: EOF(End Of File)의 시그널을 의미함. 입력이 종료되었음을 알림.

- ^\: SIGQUIT 시그널을 의미
- ^z: SIGSTOP 시그널을 의미

## 문자열 ""와 ''의 차이

`""` 안의 `$변수`는 자동적으로 치환됨. 이스케이프 문자도 쌍따옴표 안에 있으면 인식함.

`''` 안의 문자열은 치환되지 않음. but 홀따옴표 안에 홀따옴표는 사용할 수 없고, 이스케이프 문자를 써도 홀따옴표 사용은 불가능함.

# 환경변수

환경변수는 셸이 진행 중인 환경의 시스템과 관련된 정보를 담은 변수들을 의미함.

환경변수를 정의할 때는 `export` 명령어를 사용하고, 삭제할 때는 `unset` 명령어를 사용함.

key=value 형식으로 지정하고, 특정 명령어에서만 환경변수를 설정하려면 그 명령어 앞에 key=value 값으로 지정해주면 됨.

# 종료 상태

프로세스는 종료 상태를 리턴하게 되어 있음. 0은 정상 종료, 양수는 비정상 종료를 의미함.

`$?`는 직전 프로세스의 종료 상태를 의미하고 해당 명령어를 통해 직전 프로세스의 종료 상태를 알 수 있음.

# Reference

[posting-review 나은님](https://github.com/Meet-Coder-Study/posting-review)

아는 부분을 제외하고 복습할 겸 다시 정리했습니다.
